{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\diego\\\\OneDrive\\\\Escritorio\\\\Let's_Coder\\\\project3\\\\my-app\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Switch, Route, Redirect, Link, withRouter } from 'react-router-dom';\nimport PrivateRoute from './services/privateRoute';\nimport './App.css'; // import SignupPage from './pages/signup'\n// import SigninPage from './pages/signin'\n\nimport Home from './components/home';\nimport Header from './components/header';\nimport ProductSection from './components/productSection';\nimport Navbar from './components/navbar';\nimport Register from './components/register';\nimport ProductSheet from './components/productSheet';\nimport Signup from './components/signup';\nimport Signin from './components/signin';\nimport User from './components/user';\nimport UserSheet from './components/userSheet';\nimport RequestsSection from './components/requestsSection';\nimport RequestSheet from './components/requestSheet';\nimport StockSection from './components/stockSection';\nimport ItemSheet from './components/itemSheet';\nimport apiURL from './services/apiURL';\nimport setAuthToken from '/services/authToken';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App(props) {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    let token = localStorage.getItem(\"labToolUser\");\n\n    if (token) {\n      autoLogin(token);\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const autoLogin = token => {\n    axios.get(`${apiURL}user/user`, {\n      Headers: {\n        authorization: `Bearer ${token}`\n      }\n    }).then(user => {\n      setAuthToken(token);\n      setLoading(false);\n    }).catch(err => {\n      setAuthToken();\n      localStorage.removeItem('labToolUser');\n      setLoading(false);\n    });\n  };\n\n  const token = localStorage.getItem(\"labToolUser\");\n  const [user, setUser] = useState({});\n\n  const handlerUser = userN => {\n    userN.email ? setUser(userN) : setUser({ ...user,\n      fullname: userN.fullname,\n      position: userN.position\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App grid\",\n      children: [!token && /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 26\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          exact: true,\n          children: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          exact: true,\n          children: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signin\",\n          render: props => /*#__PURE__*/_jsxDEV(Signin, { ...props,\n            handlerUser: handlerUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 59\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/user\",\n            className: \"header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"../../img/LabTool_logo_white.png\",\n                alt: \"LabTool_logo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: user.fullname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/home\",\n              component: Home\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/user\",\n              exact: true,\n              render: props => /*#__PURE__*/_jsxDEV(User, { ...props,\n                user: user,\n                handlerUser: handlerUser\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 72\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/user/usersheet/:id\",\n              component: UserSheet\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/products\",\n              exact: true,\n              component: ProductSection\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/products/productsheet/:id\",\n              component: ProductSheet\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/requests\",\n              exact: true,\n              component: RequestsSection\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/requests/requestsheet/:id\",\n              exact: true,\n              component: RequestSheet\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/stock\",\n              exact: true,\n              component: StockSection\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/stock/itemsheet/:id\",\n              exact: true,\n              component: ItemSheet\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 24\n      }, this) : \"Loading...\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"QTTJ7ukXj7biNEuqJptFP3cFPmo=\");\n\n_c = App;\nexport default _c2 = withRouter(App);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/diego/OneDrive/Escritorio/Let's_Coder/project3/my-app/src/App.js"],"names":["React","useState","useEffect","axios","BrowserRouter","Router","Switch","Route","Redirect","Link","withRouter","PrivateRoute","Home","Header","ProductSection","Navbar","Register","ProductSheet","Signup","Signin","User","UserSheet","RequestsSection","RequestSheet","StockSection","ItemSheet","apiURL","setAuthToken","App","props","loading","setLoading","token","localStorage","getItem","autoLogin","get","Headers","authorization","then","user","catch","err","removeItem","setUser","handlerUser","userN","email","fullname","position"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {BrowserRouter as Router, Switch, Route, Redirect, Link, withRouter} from 'react-router-dom'\r\nimport PrivateRoute from './services/privateRoute'\r\nimport './App.css';\r\n// import SignupPage from './pages/signup'\r\n// import SigninPage from './pages/signin'\r\nimport Home from './components/home'\r\nimport Header from './components/header';\r\nimport ProductSection from './components/productSection';\r\n\r\nimport Navbar from './components/navbar';\r\nimport Register from './components/register'\r\nimport ProductSheet from './components/productSheet';\r\nimport Signup from './components/signup';\r\nimport Signin from './components/signin';\r\nimport User from './components/user';\r\nimport UserSheet from './components/userSheet';\r\nimport RequestsSection from './components/requestsSection';\r\nimport RequestSheet from './components/requestSheet';\r\nimport StockSection from './components/stockSection';\r\nimport ItemSheet from './components/itemSheet';\r\nimport apiURL from './services/apiURL'\r\nimport setAuthToken from '/services/authToken'\r\n\r\n\r\nfunction App(props) {\r\n\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        let token = localStorage.getItem(\"labToolUser\");\r\n        if (token) {\r\n            autoLogin(token);\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n    },[]);\r\n\r\n    const autoLogin = token => {\r\n        axios.get(`${apiURL}user/user`, {Headers: {authorization: `Bearer ${token}`}})\r\n        .then(user => {\r\n            setAuthToken(token);\r\n            setLoading(false);\r\n        })\r\n        .catch(err => {\r\n            setAuthToken();\r\n            localStorage.removeItem('labToolUser');\r\n            setLoading(false);\r\n        });\r\n    };\r\n\r\n\r\n\r\n\r\n    const token = localStorage.getItem(\"labToolUser\")\r\n\r\n    const [user, setUser] = useState({})\r\n\r\n    const handlerUser = (userN) => {\r\n        userN.email ? setUser(userN) : setUser({...user, fullname: userN.fullname, position: userN.position})\r\n    }\r\n\r\n\r\n    return (\r\n        <Router>\r\n        <div className=\"App grid\">\r\n            {(!token) && <Redirect to=\"/\" />}\r\n            {loading ? <Switch>\r\n                <Route path=\"/\" exact>\r\n                    <Register />\r\n                </Route>\r\n                <Route path=\"/signup\" exact>\r\n                    <Signup />\r\n                </Route>\r\n                <Route path=\"/signin\" render={(props) => (<Signin {...props} handlerUser={handlerUser} />)} />\r\n                  \r\n                <PrivateRoute>\r\n                    <Link to=\"/user\" className=\"header\">\r\n                        <div><img src=\"../../img/LabTool_logo_white.png\" alt=\"LabTool_logo\"/></div>\r\n                        <h1>{user.fullname}</h1>\r\n                    </Link>\r\n                    <Switch>\r\n                        <Route path=\"/home\" component={Home} />\r\n\r\n                        <Route path=\"/user\" exact render={(props) => ( <User {...props} user={user} handlerUser={handlerUser}/>)} />\r\n                        <Route path=\"/user/usersheet/:id\" component={UserSheet} />\r\n\r\n                        <Route path=\"/products\" exact component={ProductSection} />\r\n                        <Route path=\"/products/productsheet/:id\" component={ProductSheet} />\r\n\r\n                        <Route path=\"/requests\" exact component={RequestsSection} />\r\n                        <Route path=\"/requests/requestsheet/:id\" exact component={RequestSheet} />\r\n\r\n                        <Route path=\"/stock\" exact component={StockSection} />\r\n                        <Route path=\"/stock/itemsheet/:id\" exact component={ItemSheet} />\r\n\r\n                    </Switch>\r\n                    <Navbar />\r\n                </PrivateRoute>\r\n            </Switch> : \"Loading...\"}\r\n        </div>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default withRouter(App)"]},"metadata":{},"sourceType":"module"}